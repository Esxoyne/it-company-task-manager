<!DOCTYPE html>
<html lang="en" data-bs-theme="{{ is_dark_mode|yesno:"dark,light" }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task Manager | {% block title %}Home{% endblock %}</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
    crossorigin="anonymous"
  >
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  {% load static %}
  <link rel="icon" type="image/svg" href="{% static "img/logo.svg" %}">
  <link rel="stylesheet" href="{% static "css/styles.css" %}">
</head>
<body class="d-flex flex-column min-vh-100 bg-dark-subtle {{ is_dark_mode|yesno:"bg-image-dark,bg-image-light" }}">
  <header class="sticky-top">
    {% if user.is_authenticated %}
      {% include "includes/header.html" %}
    {% endif %}
  </header>

  <div class="container-fluid container-xxl d-flex flex-grow-1">
    <div class="row flex-grow-1">
      {% if user.is_authenticated %}
        {% include "includes/sidebar.html" %}
      {% endif %}
      <div class="main-col shadow-lg px-5 d-flex flex-column bg-body {{ user.is_authenticated|yesno:"col-md-9 offset-md-3 offset-xxl-0 col-xxl-12," }}">
        {% block navigation %}
          {% include "includes/nav_default.html" %}
        {% endblock %}
        <main class="my-3">
          {% block content %}{% endblock %}

          {% block pagination %}
            {% if is_paginated %}
              {% include "includes/pagination.html" %}
            {% endif %}
          {% endblock %}
        </main>

        {% if user.is_authenticated %}
          {% include "includes/logout_modal.html" %}
        {% endif %}

        {% include "includes/footer.html" %}
      </div>
    </div>
  </div>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
    crossorigin="anonymous"
  ></script>
  <script src="{% static "js/tooltip.js" %}"></script>
</body>
</html>
